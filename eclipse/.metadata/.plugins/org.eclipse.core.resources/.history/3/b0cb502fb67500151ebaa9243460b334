/*
 * Decompiled with CFR 0_102.
 * 
 * Could not load the following classes:
 *  net.minecraft.entity.player.EntityPlayer
 *  net.minecraft.entity.player.InventoryPlayer
 *  net.minecraft.inventory.Container
 *  net.minecraft.inventory.ICrafting
 *  net.minecraft.inventory.IInventory
 *  net.minecraft.inventory.Slot
 *  net.minecraft.item.Item
 *  net.minecraft.item.ItemStack
 */
package com.pam.harvestcraft;

import com.pam.harvestcraft.ItemRegistry;
import com.pam.harvestcraft.SlotPamApiary;
import com.pam.harvestcraft.SlotPamResult;
import com.pam.harvestcraft.TileEntityPamApiary;
import java.util.List;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.entity.player.InventoryPlayer;
import net.minecraft.inventory.Container;
import net.minecraft.inventory.ICrafting;
import net.minecraft.inventory.IInventory;
import net.minecraft.inventory.Slot;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;

public class ContainerPamApiary
extends Container {
    private TileEntityPamApiary apiary;
    private int lastProduceTime = 0;
    private int lastRunTime = 0;
    private int lastBeeRunTime = 0;

    public ContainerPamApiary(InventoryPlayer inv, TileEntityPamApiary tepa) {
        int i;
        this.apiary = tepa;
        for (int x = 0; x < 6; ++x) {
            for (int y = 0; y < 3; ++y) {
                this.func_75146_a((Slot)new SlotPamResult(inv.field_70458_d, tepa, y + x * 3, 62 + 18 * x, 17 + 18 * y));
            }
        }
        this.func_75146_a((Slot)new SlotPamApiary(inv.field_70458_d, tepa, 18, 26, 35));
        for (i = 0; i < 3; ++i) {
            for (int j = 0; j < 9; ++j) {
                this.func_75146_a(new Slot((IInventory)inv, j + i * 9 + 9, 8 + j * 18, 84 + i * 18));
            }
        }
        for (i = 0; i < 9; ++i) {
            this.func_75146_a(new Slot((IInventory)inv, i, 8 + i * 18, 142));
        }
    }

    public void func_75142_b() {
        super.func_75142_b();
        for (int i = 0; i < this.field_75149_d.size(); ++i) {
            ICrafting crafter = (ICrafting)this.field_75149_d.get(i);
            if (this.lastProduceTime != this.apiary.produceTime) {
                crafter.func_71112_a((Container)this, 1, this.apiary.produceTime);
            }
            if (this.lastRunTime != this.apiary.runTime) {
                crafter.func_71112_a((Container)this, 2, this.apiary.runTime);
            }
            if (this.lastBeeRunTime == this.apiary.currentBeeRunTime) continue;
            crafter.func_71112_a((Container)this, 3, this.apiary.currentBeeRunTime);
        }
        this.lastProduceTime = this.apiary.produceTime;
        this.lastRunTime = this.apiary.runTime;
        this.lastBeeRunTime = this.apiary.currentBeeRunTime;
    }

    public void func_75137_b(int event, int val) {
        if (event == 1) {
            this.apiary.produceTime = val;
        } else if (event == 2) {
            this.apiary.runTime = val;
        } else if (event == 3) {
            this.apiary.currentBeeRunTime = val;
        }
    }

    public boolean func_75145_c(EntityPlayer player) {
        return this.apiary.func_70300_a(player);
    }

    public ItemStack func_82846_b(EntityPlayer entityPlayer, int slotIndex) {
        ItemStack itemStack = null;
        Slot slot = (Slot)this.field_75151_b.get(slotIndex);
        if (slot != null && slot.func_75216_d()) {
            ItemStack slotStack = slot.func_75211_c();
            itemStack = slotStack.func_77946_l();
            if (slotIndex >= 19 ? (slotStack.func_77973_b() == ItemRegistry.queenbeeItem ? !this.func_75135_a(slotStack, 18, 19, false) : (slotIndex >= 19 && slotIndex < 46 ? !this.func_75135_a(slotStack, 46, 55, false) : slotIndex >= 46 && slotIndex < 55 && !this.func_75135_a(slotStack, 19, 46, false))) : !this.func_75135_a(slotStack, 19, 55, false)) {
                return null;
            }
            if (slotStack.field_77994_a == 0) {
                slot.func_75215_d(null);
            } else {
                slot.func_75218_e();
            }
            if (slotStack.field_77994_a == itemStack.field_77994_a) {
                return null;
            }
            slot.func_82870_a(entityPlayer, slotStack);
        }
        return itemStack;
    }
}

