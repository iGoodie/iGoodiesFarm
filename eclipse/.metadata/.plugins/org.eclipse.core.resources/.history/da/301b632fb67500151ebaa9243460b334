/*
 * Decompiled with CFR 0_102.
 * 
 * Could not load the following classes:
 *  cpw.mods.fml.relauncher.Side
 *  cpw.mods.fml.relauncher.SideOnly
 *  net.minecraft.entity.player.EntityPlayer
 *  net.minecraft.entity.player.InventoryPlayer
 *  net.minecraft.inventory.Container
 *  net.minecraft.inventory.ICrafting
 *  net.minecraft.inventory.IInventory
 *  net.minecraft.inventory.Slot
 *  net.minecraft.item.Item
 *  net.minecraft.item.ItemStack
 */
package com.pam.harvestcraft;

import com.pam.harvestcraft.ItemRegistry;
import com.pam.harvestcraft.SlotPamPresser;
import com.pam.harvestcraft.SlotPamResult;
import com.pam.harvestcraft.TileEntityPamPresser;
import cpw.mods.fml.relauncher.Side;
import cpw.mods.fml.relauncher.SideOnly;
import java.util.List;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.entity.player.InventoryPlayer;
import net.minecraft.inventory.Container;
import net.minecraft.inventory.ICrafting;
import net.minecraft.inventory.IInventory;
import net.minecraft.inventory.Slot;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;

public class ContainerPamPresser
extends Container {
    private TileEntityPamPresser combPresser;
    private int lastCookTime = 0;
    private int lastBurnTime = 0;
    private int lastCombPresserBurnTime = 0;

    public ContainerPamPresser(InventoryPlayer par1InventoryPlayer, TileEntityPamPresser par2TileEntityCombPresser) {
        int var3;
        this.combPresser = par2TileEntityCombPresser;
        this.func_75146_a((Slot)new SlotPamPresser(par1InventoryPlayer.field_70458_d, (IInventory)par2TileEntityCombPresser, 0, 80, 23));
        this.func_75146_a((Slot)new SlotPamResult(par1InventoryPlayer.field_70458_d, (IInventory)par2TileEntityCombPresser, 1, 62, 54));
        this.func_75146_a((Slot)new SlotPamResult(par1InventoryPlayer.field_70458_d, (IInventory)par2TileEntityCombPresser, 2, 98, 54));
        for (var3 = 0; var3 < 3; ++var3) {
            for (int var4 = 0; var4 < 9; ++var4) {
                this.func_75146_a(new Slot((IInventory)par1InventoryPlayer, var4 + var3 * 9 + 9, 8 + var4 * 18, 84 + var3 * 18));
            }
        }
        for (var3 = 0; var3 < 9; ++var3) {
            this.func_75146_a(new Slot((IInventory)par1InventoryPlayer, var3, 8 + var3 * 18, 142));
        }
    }

    public void func_75142_b() {
        super.func_75142_b();
        for (int var1 = 0; var1 < this.field_75149_d.size(); ++var1) {
            ICrafting var2 = (ICrafting)this.field_75149_d.get(var1);
            if (this.lastCookTime != this.combPresser.combPresserCookTime) {
                var2.func_71112_a((Container)this, 0, this.combPresser.combPresserCookTime);
            }
            if (this.lastBurnTime != this.combPresser.combPresserBurnTime) {
                var2.func_71112_a((Container)this, 1, this.combPresser.combPresserBurnTime);
            }
            if (this.lastCombPresserBurnTime == this.combPresser.currentCombPresserBurnTime) continue;
            var2.func_71112_a((Container)this, 2, this.combPresser.currentCombPresserBurnTime);
        }
        this.lastCookTime = this.combPresser.combPresserCookTime;
        this.lastBurnTime = this.combPresser.combPresserBurnTime;
        this.lastCombPresserBurnTime = this.combPresser.currentCombPresserBurnTime;
    }

    @SideOnly(value=Side.CLIENT)
    public void func_75137_b(int par1, int par2) {
        if (par1 == 0) {
            this.combPresser.combPresserCookTime = par2;
        }
        if (par1 == 1) {
            this.combPresser.combPresserBurnTime = par2;
        }
        if (par1 == 2) {
            this.combPresser.currentCombPresserBurnTime = par2;
        }
    }

    public boolean func_75145_c(EntityPlayer par1EntityPlayer) {
        return this.combPresser.func_70300_a(par1EntityPlayer);
    }

    public ItemStack func_82846_b(EntityPlayer entityPlayer, int slotIndex) {
        ItemStack itemStack = null;
        Slot slot = (Slot)this.field_75151_b.get(slotIndex);
        if (slot != null && slot.func_75216_d()) {
            ItemStack slotStack = slot.func_75211_c();
            itemStack = slotStack.func_77946_l();
            if (slotIndex >= 3 ? (slotStack.func_77973_b() == ItemRegistry.soybeanItem || slotStack.func_77973_b() == ItemRegistry.silkentofuItem || slotStack.func_77973_b() == ItemRegistry.soymilkItem ? !this.func_75135_a(slotStack, 0, 1, false) : (slotIndex >= 3 && slotIndex < 30 ? !this.func_75135_a(slotStack, 30, 39, false) : slotIndex >= 30 && slotIndex < 39 && !this.func_75135_a(slotStack, 3, 30, false))) : !this.func_75135_a(slotStack, 3, 39, false)) {
                return null;
            }
            if (slotStack.field_77994_a == 0) {
                slot.func_75215_d(null);
            } else {
                slot.func_75218_e();
            }
            if (slotStack.field_77994_a == itemStack.field_77994_a) {
                return null;
            }
            slot.func_82870_a(entityPlayer, slotStack);
        }
        return itemStack;
    }
}

