package igoodie.igoodiesfarm.blocks;

import java.util.ArrayList;

import igoodie.igoodiesfarm.items.GoodiesFarmItems;
import igoodie.igoodiesfarm.tabs.GoodiesFarmTab;
import net.minecraft.block.BlockCrops;
import net.minecraft.client.renderer.texture.IIconRegister;
import net.minecraft.init.Items;
import net.minecraft.item.ItemStack;
import net.minecraft.util.IIcon;
import net.minecraft.world.World;
import net.minecraftforge.common.IPlantable;
import cpw.mods.fml.relauncher.Side;
import cpw.mods.fml.relauncher.SideOnly;

public class BlockTurnipCrop extends BlockCrops implements IPlantable
{
	@SideOnly(Side.CLIENT)
	private IIcon[] progress = new IIcon[4];
	
	public BlockTurnipCrop() 
	{
		this.setCreativeTab(GoodiesFarmTab.tabInstance);
		this.setBlockName("blockTurnipCrop");
		this.setBlockTextureName("blockTurnipCrop");
	}
	
	@Override
    public ArrayList<ItemStack> getDrops(World world, int x, int y, int z, int metadata, int fortune)
    {
		ArrayList<ItemStack> ret = new ArrayList<ItemStack>();
		if(metadata == 7)
		{
        	ret.add(new ItemStack(GoodiesFarmItems.itemTurnip, 1));
		}
		else
		{
			System.out.println(metadata);
			ret.add(new ItemStack(Items.apple, 1));
		}
		return ret;
    }
	
	@SideOnly(Side.CLIENT)
	public IIcon getIcon(int int1, int int2)
    {
        /*if (int2 < 7)
        {
            if (int2 == 6)
            {
                int2 = 5;
            }

            return this.progress[int2 >> 1];
        }
        else
        {
            return this.progress[3];
        }*/
		return this.progress[int2];
    }
	
	@SideOnly(Side.CLIENT)
    public void registerBlockIcons(IIconRegister iconReg)
    {
        for (int i=0; i<this.progress.length; ++i)
        {
            this.progress[i] = iconReg.registerIcon("blockTurnipCrop_stage_" + i);
        }
    }
}
